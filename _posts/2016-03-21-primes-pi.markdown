---
layout: post
title:  "Primes, Pi, and Riemann-Zetas, Oh My!"
date:   2016-03-21 16:56:00 -0700
---

Somebody showed me a formula for $$\pi$$ based on prime numbers that
was pretty cool. That got me thinking about other cool
results that relate number theory and $$\pi$$ in unexpected ways.
I figured they would make a nice short update.

As a disclaimer, I am not a math major, and my math education
stopped at the start of real analysis. I'm targeting this towards
the high school math contest audience. That means I won't assume anything
above calculus, but I will assume everything up to calculus, and I assume
people reading this are willing to look up unfamiliar terms on their own.


Relatively Prime Random Numbers
---------------------------------------------------------------------

Let $$a$$ and $$b$$ be two uniformly random natural numbers.
What is the probability $$a$$ and $$b$$ are relatively prime?

First off, this problem isn't that well formed. There are infinitely
many natural numbers, and it's unclear how we'd pick one of infinitely
many things. To be more formal, we should really state the problem
this way.

> Let $$P(n)$$ be the probability that two uniformly random
> natural numberes from $$1$$ to $$n$$ (inclusive) are relatively prime.
> What is $$\lim_{n\to\infty} P(n)$$?

(From now on I'll use $$P(\infty)$$ for the limit.)

Alright, we have a problem. Now what? First, let's get an expression
at all. We're good if $$a$$ and $$b$$ share no common factors. For this
to be true, for every prime $$p$$ at most one of $$a,b$$ can be divisible
by $$p$$. Equivalently, $$a$$ and $$b$$ are not both divisible by $$p$$.

Since we pick naturals uniformly at random, the probability a random
natural is divisible by $$p$$ is $$1/p$$. The probabillity both
numbers are divisible by $$p$$ must be $$1/p^2$$, giving the following.

$$
    P(\infty) = \left(1 - \frac{1}{2^2}\right)
                \left(1 - \frac{1}{3^2}\right)
                \left(1 - \frac{1}{5^2}\right)\cdots
              = \prod_{p\text{ prime}} \left(1 - \frac{1}{p^2}\right)
$$

Now, here's where you apply an interesting trick - take the reciprocal
of both sides.

$$
    \frac{1}{P(\infty)}
    = \frac{1}{1 - \frac{1}{2^2}}\cdot
      \frac{1}{1 - \frac{1}{3^2}}\cdot
      \frac{1}{1 - \frac{1}{5^2}}\cdots
$$

For each fraction, substitute an infinite series by using $$\frac{1}{1-r} = 1 + r + r^2 + \cdots$$.

$$
    \frac{1}{P(\infty)}
    = \prod_{p\text{ prime}} \left(
        1 + \frac{1}{p^2} + \frac{1}{p^4} + \frac{1}{p^6} + \cdots
    \right)
$$

Alright, now we're bringing in the number theory. I claim the right
hand side is the same as

$$
    \sum_{n=1}^\infty \frac{1}{n^2}
$$

Why is this true? Suppose we expanded out the product above.
Each term of the expansion is the product of some choice of terms,
one from every infinite series. For example, suppose we picked
$$1/2^2$$ from the first series, $$1/3^2$$ from the second,
and $$1$$ from the rest. That term would be

$$
    \frac{1}{2^2\cdot 3^2} = \frac{1}{6^2}
$$

Now, suppose we picked $$1/2^4$$ from the $$2$$ series,
$$1$$ from the $$3$$ series, $$1/5^2$$ from the $$5$$ series, and
$$1$$ from the rest. That gives.

$$
    \frac{1}{2^4 \cdot 5^2} = \frac{1}{(2^2 \cdot 5)^2} = \frac{1}{20^2}
$$

That's the pattern. Now consider the term $$1/n^2$$. To construct that
term, find the prime factorization of $$n$$. Then, for every prime
$$p_i$$, find the power $$p_i^{k_i}$$ that divides $$n$$. ($$k_i$$ could be $$0$$.)
For the infinite series corresponding to $$p_i$$, take the term
$$1/p^{2k_i}$$. The product of all of those will be

$$
    \prod_{p\text{ prime}} \frac{1}{p^{2k_i}} = \frac{1}{\left(\prod_{p\text{ prime}} p^{k_i}\right)^2} = \frac{1}{n^2}
$$

Every natural number has a unique prime factorization. So, when the product

$$
    \prod_{p\text{ prime}} \left(
        1 + \frac{1}{p^2} + \frac{1}{p^4} + \frac{1}{p^6} + \cdots
    \right)
$$

is expanded, the term $$\frac{1}{n^2}$$ will be generated for every $$n$$,
and will be generated exactly once. Thus, the product is exactly the sum
of the reciprocal of the squares.

(If you're like me, you may want to spend a moment admiring the beauty and
elegance of this argument. This is a contender for my favorite proof ever.)

This reduces the problem to
$$
    \frac{1}{P(\infty)} = \sum_{n=1}^\infty \frac{1}{n^2}
$$


